{% load static tailwind_tags %}
<!DOCTYPE html>
<html lang="en">
  <head>
    <title>Django Tailwind</title>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    {% tailwind_css %}
  </head>

  <body class="bg-gray-50 font-serif leading-normal tracking-normal">
    <!-- Main Content -->
    <div class="w-full mx-auto pb-16 md:pb-0">
      {% block content %}
      <section class="flex items-center justify-center h-screen">
        <h1 class="text-5xl">Django + Tailwind = ❤️</h1>
      </section>
      {% endblock %}
    </div>

<!-- Normal Navbar for Desktop and Tablets -->
<div class="hidden md:flex fixed top-0 inset-x-0 bg-white shadow-md border-b border-gray-200 z-10">
  <div class="container mx-auto px-4 py-2 flex justify-between items-center">
    <!-- Logo -->
    <div class="text-lg font-bold text-gray-800">My App</div>

    <!-- Normal Navbar Links -->
    <nav class="space-x-6">
      <a id="home-link" href="{% url 'home' %}" class="text-gray-800 hover:text-green-500">
        Home
      </a>
      {% if user.is_authenticated and user.user_type != 'teacher' %}
      <a id="profile-link" href="{% url 'profile' student.id %}" class="text-gray-800 hover:text-green-500">
        Profile
      </a>
      {% endif %}
      <a id="grade-link" href="{% url 'student_results' student.id %}" class="text-gray-800 hover:text-blue-500">Grade</a>
    </nav>
  </div>
</div>

<!-- Bottom Navbar -->
<div class="fixed bottom-0 inset-x-0 bg-white shadow-md border-t border-gray-200 z-20 md:hidden">
  <div class="flex justify-center gap-12 items-center px-4 py-2">
    <a id="home-link" href="{% url 'home' %}" 
      class="flex flex-col items-center text-gray-800 hover:text-green-500">
      <svg class="h-6 w-6" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
        <path stroke-linecap="round" stroke-linejoin="round" d="M3 9.75L12 3l9 6.75V20a2.25 2.25 0 01-2.25 2.25H5.25A2.25 2.25 0 013 20z"></path>
        <path stroke-linecap="round" stroke-linejoin="round" d="M9 21V12h6v9"></path>
      </svg>
      <span class="text-sm">Home</span>
    </a>

    <a id="profile-link" href="{% url 'profile' student.id %}" 
      class="flex flex-col items-center text-gray-800 hover:text-green-500">
      <svg class="h-6 w-6" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
        <path stroke-linecap="round" stroke-linejoin="round" d="M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4z"></path>
        <path stroke-linecap="round" stroke-linejoin="round" d="M4 20c0-2.21 2.69-4 6-4s6 1.79 6 4"></path>
      </svg>
      <span class="text-sm">Profile</span>
    </a>

    <a id="grade-link" href="{% url 'student_results' student.id%}" 
      class="flex flex-col items-center text-gray-800 hover:text-green-500">
      <svg class="h-6 w-6" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
        <path stroke-linecap="round" stroke-linejoin="round" d="M12 17.75l6.547 3.447-1.25-7.004L22 8.258l-7.057-.61L12 2 9.057 7.648 2 8.258l4.703 5.335-1.25 7.004L12 17.75z"></path>
      </svg>
      <span class="text-sm">Grade</span>
    </a>
  </div>
</div>

<script>
  document.addEventListener("DOMContentLoaded", function () {
    const currentUrl = window.location.pathname;

    // List of links and their corresponding ids
    const links = [
      { id: "home-link", url: "{% url 'home' %}" },
      { id: "profile-link", url: "{% url 'profile' student.id %}" },
      { id: "grade-link", url: "{% url 'student_results' student.id %}" }
    ];

    // Loop through each link and check if its href matches the current URL
    links.forEach(link => {
      const element = document.getElementById(link.id);
      if (currentUrl === link.url) {
        // If current URL matches, highlight the link
        element.classList.remove("text-gray-800", "hover:text-blue-500");
        element.classList.add("text-green-500"); // Highlighted color
      }
    });
  });
</script>
</body>
</html>