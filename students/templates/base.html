{% load static tailwind_tags %}
<!DOCTYPE html>
<html lang="en">
  <head>
    <title>Django Tailwind</title>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    {% load static %}
    {% tailwind_css %}
    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">

    <link rel="stylesheet" href="{% static 'css/base.css' %}">
  </head>

  <body class="bg-gray-50 font-serif leading-normal tracking-normal">
    <!-- Main Content -->
    <div class="w-full mx-auto pb-16 md:pb-0">
      {% block content %}
      <section class="flex items-center justify-center h-screen">
        <h1 class="text-5xl">Django + Tailwind = ❤️</h1>
      </section>
      {% endblock %}
    </div>

<!-- Navbar -->
<div class="fixed top-1/2 left-4 transform -translate-y-1/2 z-10">
  <!-- ปุ่มสำหรับเปิดเมนู -->
  <button id="menu-btn" class="hidden w-12 h-12 bg-gray-800 text-white rounded-full lg:flex items-center justify-center shadow-lg hover:bg-green-500 focus:outline-none">
    <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"></path>
    </svg>
  </button>

  <div id="menu-items" class="hidden flex-col space-y-4 mt-4 items-start">
    <a id="home-link" href="{% url 'home' %}" class="menu-item flex items-center space-x-2 w-32 h-12 bg-gray-800 text-white rounded-full shadow-lg text:bg-green-500 px-3">
      🏠 <span class="text-sm">Home</span>
    </a>
    <a id="profile-link" href="{% url 'profile' student.id %}" class="menu-item flex items-center space-x-2 w-32 h-12 bg-gray-800 text-white rounded-full shadow-lg hover:text-green-500 px-3">
      👤 <span class="text-sm">Profile</span>
    </a>
    <a id="grade-link" href="{% url 'student_results' student.id %}" class="menu-item flex items-center space-x-2 w-32 h-12 bg-gray-800 text-white rounded-full shadow-lg hover:text-green-500 px-3">
      📊 <span class="text-sm">Grade</span>
    </a>
  </div>

</div>


<!-- Bottom Navbar -->
<div class="fixed bottom-0 inset-x-0 bg-white shadow-md border-t border-gray-200 z-20 lg:hidden">
  <div class="flex justify-center gap-12 items-center px-4 py-2">
    <a id="home-link-mobile" href="{% url 'home' %}" 
      class="flex flex-col items-center text-gray-800 hover:text-green-500">
      <svg class="h-6 w-6" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
        <path stroke-linecap="round" stroke-linejoin="round" d="M3 9.75L12 3l9 6.75V20a2.25 2.25 0 01-2.25 2.25H5.25A2.25 2.25 0 013 20z"></path>
        <path stroke-linecap="round" stroke-linejoin="round" d="M9 21V12h6v9"></path>
      </svg>
      <span class="text-sm">Home</span>
    </a>

    <a id="profile-link-mobile" href="{% url 'profile' student.id %}" 
      class="flex flex-col items-center text-gray-800 hover:text-green-500">
      <svg class="h-6 w-6" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
        <path stroke-linecap="round" stroke-linejoin="round" d="M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4z"></path>
        <path stroke-linecap="round" stroke-linejoin="round" d="M4 20c0-2.21 2.69-4 6-4s6 1.79 6 4"></path>
      </svg>
      <span class="text-sm">Profile</span>
    </a>

    <a id="grade-link-mobile" href="{% url 'student_results' student.id%}" 
      class="flex flex-col items-center text-gray-800 hover:text-green-500">
      <svg class="h-6 w-6" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
        <path stroke-linecap="round" stroke-linejoin="round" d="M12 17.75l6.547 3.447-1.25-7.004L22 8.258l-7.057-.61L12 2 9.057 7.648 2 8.258l4.703 5.335-1.25 7.004L12 17.75z"></path>
      </svg>
      <span class="text-sm">Grade</span>
    </a>
  </div>
</div>

  <script>
    document.addEventListener("DOMContentLoaded", function () {
    const currentUrl = window.location.pathname;

    // List of links and their corresponding ids for Desktop and Mobile
    const links = [
      { ids: ["home-link", "home-link-mobile"], url: "{% url 'home' %}" },
      { ids: ["profile-link", "profile-link-mobile"], url: "{% url 'profile' student.id %}" },
      { ids: ["grade-link", "grade-link-mobile"], url: "{% url 'student_results' student.id %}" }
    ];

    // Loop through each link and check if its href matches the current URL
    links.forEach(link => {
      link.ids.forEach(id => {
        const element = document.getElementById(id);
        if (element && currentUrl === link.url) {
          element.classList.remove("text-gray-800", "hover:text-green-500");
          element.classList.add("text-green-500"); // Highlighted color
        }
      });
    });
  });

  </script>

  <script>
document.getElementById('menu-btn').addEventListener('click', () => {
  const menuBtn = document.getElementById('menu-btn');
  const menu = document.getElementById('menu-items');

  // Toggle hidden class สำหรับการแสดงเมนู
  menu.classList.toggle('hidden');

  // Toggle open class สำหรับการแสดง animation
  menuBtn.classList.toggle('open');
});

  </script>
</body>
</html>